<app-header></app-header>

<div class="min-h-[100%] flex flex-col justify-between mt-[110px]">
    <section class="product-list px-20 py-8">
        <!-- category filter -->
        <div class="category flex items-center mb-6">
            @if (categoryId!=null) {
            <div (click)="clearCategoryFilter()" class="mr-3 text-2xl text-gray-400 hover:text-red-600"><i
                    class="fa-sharp fa-solid fa-circle-xmark"></i></div>
            }
            @for (category of categorylist; track $index) {
            <button type="button" (click)="filterCategory(category.id)"
                class="bg-[#DE0530] text-white border-2 border-[#DE0530] text-nowrap hover:bg-white hover:text-[#DE0530] focus:bg-white  focus:text-[#DE0530] font-normal px-4 py-1.5 rounded-md mr-5">
                <i class="fa-regular fa-filter mr-2"></i>{{category.category|titlecase}}</button>
            }
        </div>
        <!-- product list -->
        <div class="flex flex-wrap gap-x-8 gap-y-8">
            @for (product of products; track $index) {
            <div class="bg-white p-3 rounded-lg relative w-[250px] border-2">
                <div (click)="viewProduct(product)">
                    <img class="w-full h-[180px] rounded-md border object-cover" src="/images/no-image-3.webp" alt="">
                    <button
                        class="absolute top-3 right-3 text-2xl text-gray-300 hover:text-[#DE0530]  px-2 pt-1.5 pb-0.5 rounded-md">
                        <i class="fa-solid fa-heart"></i>
                    </button>
                    <div>
                        <h1 class="font-medium pt-3.5 pb-2">{{product.productname}}</h1>
                        <p class="text-xs text-gray-400">{{product.description.slice(0,60)}}...</p>
                        <div class="flex items-center pt-2 gap-x-5">
                            <p class=" font-medium ">â‚¹{{product.price}}</p>
                            @if (product.stock==='In Stock') {
                                <p class="text-[12px] text-green-600 font-semibold">{{product.stock|uppercase}}</p>
                                }
                                @if (product.stock==='Out of Stock') {
                                <p class="text-[12px] text-[#DE0530] font-semibold">{{product.stock|uppercase}}</p>
                                }
                        </div>
                    </div>
                </div>
                <div class="flex justify-center mt-5">
                    <button (click)="addtoCart(product.id,product.stock)"
                        class="text-[#DE0530] border-2 border-[#DE0530] font-medium rounded-md text-sm px-5 py-0.5 hover:bg-[#DE0530] hover:text-white">Add
                        to cart</button>
                </div>
            </div>
            }
        </div>
    </section>
    <app-footer></app-footer>
</div>